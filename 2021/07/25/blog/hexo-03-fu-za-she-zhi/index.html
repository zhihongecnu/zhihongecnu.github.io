<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>hexo | 主题设置二（进阶） | 学习空间</title><meta name="keywords" content="hexo"><meta name="author" content="Rex"><meta name="copyright" content="Rex"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="hexo 主题设置杂记">
<meta property="og:type" content="article">
<meta property="og:title" content="hexo | 主题设置二（进阶）">
<meta property="og:url" content="http://www.wzhecnu.cn/2021/07/25/blog/hexo-03-fu-za-she-zhi/index.html">
<meta property="og:site_name" content="学习空间">
<meta property="og:description" content="hexo 主题设置杂记">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/RexWzh/PicBed/images_for_blogs/c.jpeg">
<meta property="article:published_time" content="2021-07-24T16:00:00.000Z">
<meta property="article:modified_time" content="2023-07-12T09:56:17.075Z">
<meta property="article:author" content="Rex">
<meta property="article:tag" content="hexo">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/RexWzh/PicBed/images_for_blogs/c.jpeg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://www.wzhecnu.cn/2021/07/25/blog/hexo-03-fu-za-she-zhi/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="/css/iconfont.css"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":false,"highlightHeightLimit":300},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'hexo | 主题设置二（进阶）',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-07-12 17:56:17'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if (GLOBAL_CONFIG_SITE.isHome && /iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><script>(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();</script><link rel="stylesheet" href="APlayer.min.css"><div id="aplayer"></div><script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js" async></script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://cdn.jsdelivr.net/gh/RexWzh/PicBed/images_for_blogs/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">78</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">25</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">7</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/guestboard/"><i class="fa-fw far fa-comment-dots"></i><span> 留言板</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://cdn.jsdelivr.net/gh/RexWzh/PicBed/images_for_blogs/c.jpeg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">学习空间</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/guestboard/"><i class="fa-fw far fa-comment-dots"></i><span> 留言板</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">hexo | 主题设置二（进阶）</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发布于</span><time class="post-meta-date-created" datetime="2021-07-24T16:00:00.000Z" title="发布于 2021-07-25 00:00:00">2021-07-25</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-07-12T09:56:17.075Z" title="更新于 2023-07-12 17:56:17">2023-07-12</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%8D%9A%E5%AE%A2%E6%95%99%E7%A8%8B/">博客教程</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">3.9k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>14分钟</span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1>唠唠闲话</h1>
<p>上篇介绍 <a href="/2021/07/22/blog/hexo-02-zhu-ti-mei-hua/" title="hexo | butterfly 主题设置一">butterfly 主题基本的设置</a> ，本篇补充一些复杂功能，包括SEO优化等。</p>
<h1>文章相关</h1>
<h2 id="文章打稿">文章打稿</h2>
<p>一些文章正在编写，但还不想推送到网站上，可使用草稿功能。</p>
<blockquote>
<p>参考简书：<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/262372d14c90">hexo新建文件草稿</a></p>
</blockquote>
<ol>
<li>新建草稿<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new draft &quot;draft-name&quot;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>此时博客目录 source/_drafts/ 下出现了文件夹和草稿文件 “darft-name”。</p>
<ol start="2">
<li>用下边代码启动本地博客，可以将草稿内容加到显示的网页中<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo s --drafts</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>hexo 在生成网站文件时会自动忽略 <code>_</code> 开头的文件和文件夹（<code>_post</code>除外），用添加前缀 <code>_</code> 的方法跳过文章生成。</p>
<h2 id="文章隐藏">文章隐藏</h2>
<p>有时候，我们不希望某篇文章放在首页，比如记录生活的，非学习性的，这节介绍两种方法。</p>
<h3 id="方法一：修改-pug-文件">方法一：修改 pug 文件</h3>
<p>这部分后续会做新修改。</p>
<ol>
<li>
<p>编辑 <code>post-ui.pug</code> 文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd themes/butterfly/layout/includes/mixins # 进入目录</span><br><span class="line">code post-ui.pug # 编辑文件</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>修改开头部分，并把 <code>.recent-post-item</code> 的内容向右缩进。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mixin postUI(posts)</span><br><span class="line">  - let leftright = 1</span><br><span class="line">  each article , index in page.posts.data</span><br><span class="line">    if article.hide == true</span><br><span class="line">      - let= leftright = 1-leftright</span><br><span class="line">    else</span><br><span class="line">      .recent-post-item</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>打开需要隐藏的文章，在头部信息(front-matter) 中添加一行 <code>hide: true</code>。</p>
</li>
</ol>
<h3 id="方法二：安装插件">方法二：安装插件</h3>
<p>用插件实现文章隐藏功能。</p>
<ol>
<li>
<p>更换插件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall hexo-generator-index --save # 卸载旧插件</span><br><span class="line">npm install hexo-generator-index2 --save # 安装新版</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>在 _config.yml 中贴下边代码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># index2 generator 是否包含官方的 hexo-generator-index</span><br><span class="line">index2_include_index: false # defult is true</span><br><span class="line"></span><br><span class="line"># 配置index2 generator，可以是数组或对象</span><br><span class="line">index2_generator:</span><br><span class="line">   per_page: 10</span><br><span class="line">   order_by: -date</span><br><span class="line">   include:</span><br><span class="line">      # - category Web # include article which category is Web</span><br><span class="line">   exclude:</span><br><span class="line">      - tag hide # exclude article which tag is Hexo</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>参数说明：</p>
<ul>
<li>除了 include 和 exclude，其它如 per_page 和 order_by 都是原有的官方首页生成器选项</li>
<li>Include/exclude 选项格式为<code>属性 值</code>，可选的属性有：
<ul>
<li>category: 文章分类</li>
<li>tag: 文章标签</li>
<li>path: 文章源路径</li>
</ul>
</li>
<li>被 exclude 隐藏的文章可以用 include 还原显示</li>
</ul>
<blockquote>
<p>注：更换插件后，主页横幅的上拉效果好像没了。</p>
</blockquote>
<h3 id="踩坑记录">踩坑记录</h3>
<ol>
<li>
<p>方法一存在一些 bug：</p>
<ul>
<li>文章隐藏了，但分页计数仍然计算</li>
<li>假设首页十篇都设置隐藏，首页就是空白的一页</li>
</ul>
</li>
<li>
<p>方法二更换插件，也有一些问题：</p>
<ul>
<li>旧插件用于排序的 sticky 属性失效了</li>
<li>主页横幅的效果没了</li>
<li>通过标签隐藏，标签会出现在首页标签栏中</li>
</ul>
</li>
</ol>
<p>博客用的方法一，分页问题后续再摸索修改 <code>.pug</code> 文件。</p>
<blockquote>
<p><strong>参考文章</strong><br>
zhheo：<a target="_blank" rel="noopener" href="https://blog.zhheo.com/p/451ff5e9.html">Butterfly下如何隐藏部分文章</a><br>
Jamling：<a target="_blank" rel="noopener" href="https://github.com/Jamling/hexo-generator-index2/blob/master/README_zh.md">hexo-generator-index2 插件</a></p>
</blockquote>
<h2 id="文章加密">文章加密</h2>
<p>很多时候，我们写的部分博客和文章是不希望别人看到的（比如一些个人的总结之类），所以对这些文章进行加密，提供密码才能访问是个不错的方式。</p>
<blockquote>
<p><strong>参考链接</strong><br>
Github：<a target="_blank" rel="noopener" href="https://github.com/D0n9X1n/hexo-blog-encrypt">hexo-blog-encrypt</a><br>
简书：<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/e4203ee066e5">Hexo博客文章加密</a></p>
</blockquote>
<ol>
<li>
<p>下载安装插件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save hexo-blog-encrypt</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>单篇加密方法一，在需要加密的文章开头(front-matter)添加一行 <code>password: 密码内容</code>，效果如下<br>
<img src="https://cdn.jsdelivr.net/gh/RexWzh/PicBed/images_for_blogs/2021-08-14-.png" alt="password"></p>
</li>
<li>
<p>单篇加密方法二，在 front-matter 中添加多行内容</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">password: 密码</span><br><span class="line">message: Hey, 这篇文章被加密了，请输入密码！</span><br><span class="line">wrong_pass_message: Oh, 密码错了，检查一下好吗～</span><br></pre></td></tr></table></figure>
<p>效果如下<br>
<img src="https://cdn.jsdelivr.net/gh/RexWzh/PicBed/images_for_blogs/2021-08-14%2021-14-59%20%E7%9A%84%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt="message"><br>
<img src="https://cdn.jsdelivr.net/gh/RexWzh/PicBed/images_for_blogs/2021-08-14%2021-14-41%20%E7%9A%84%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt="error"></p>
</li>
<li>
<p>按标签加密，进入 _config.yml，添加代码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># Security</span><br><span class="line">encrypt: # hexo-blog-encrypt</span><br><span class="line">message: Hey, 这篇文章被加密了，请输入密码！</span><br><span class="line">tags:</span><br><span class="line">   - &#123;name: 标签1, password: passwordA&#125;</span><br><span class="line">   - &#123;name: 标签2, password: passwordB&#125;</span><br><span class="line">wrong_pass_message: Oh, 密码错了，检查一下好吗～</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>标签加密下，单篇取消加密只在 fornt-matter 加入 <code>password: &quot;&quot;</code></p>
</li>
</ol>
<p>补充说明：</p>
<ul>
<li>部署前要用 <code>hexo clean</code> 和 <code>hexo g</code> 重新生成才会生效</li>
<li>如果文章添加了多个加密标签，则按 _config.yml 中排在最上的标签加密</li>
<li>如果文章 front-matter 有 <code>password</code> 参数，则改参数优先于标签</li>
<li>加密文章的内容不能被自带的<em>搜索</em>功能检索到</li>
</ul>
<h2 id="文章置顶">文章置顶</h2>
<p><strong>参考博客</strong></p>
<blockquote>
<p>简书：<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/42a4efcdf8d7">解决Hexo博客文章置顶问题</a></p>
</blockquote>
<p>这里最好学点 Javascript 的语法，否则只能套用给定的代码，使用不灵活。</p>
<h2 id="字数统计">字数统计</h2>
<ol>
<li>
<p>安装插件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i --save hexo-wordcount</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>在 _config.butterfly.yml 中，将参数设置为 true</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># wordcount (字數統計)</span><br><span class="line">wordcount:</span><br><span class="line">enable: true # 修改这里</span><br><span class="line">post_wordcount: true</span><br><span class="line">min2read: true</span><br><span class="line">total_wordcount: true</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="阅读统计">阅读统计</h2>
<blockquote>
<p><strong>参考文章</strong><br>
CSDN：<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_43958049/article/details/99742737">搜索SEO+阅读量统计+访问量统计+评论系统</a></p>
</blockquote>
<p>用 LeanCloud 做阅读统计，但实际上 butterfly 自带了 busuanzi 阅读统计。</p>
<h2 id="页面跳转">页面跳转</h2>
<p>写文章经常用到跳转功能，站外链接的跳转可以用 Markdown 语法，但站内文章或文章上下片段的跳转，则得用其他方法。</p>
<ol>
<li>
<p>站内文章跳转</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% post_link &lt;站内文章的文件名&gt; &lt;链接标题名&gt;%&#125;</span><br></pre></td></tr></table></figure>
<p>特别注意：如果跳转紧接在 <code>#</code> 标题下，且后接文字，则后续排版会被扰乱。<br>
例如代码：<br>
<img src="https://cdn.jsdelivr.net/gh/RexWzh/PicBed@picgo/picgo_folder/%E6%B7%B1%E5%BA%A6%E6%88%AA%E5%9B%BE_%E9%80%89%E6%8B%A9%E5%8C%BA%E5%9F%9F_20211007142017.png" alt="code"><br>
显示结果：<br>
<img src="https://cdn.jsdelivr.net/gh/RexWzh/PicBed@picgo/picgo_folder/%E6%B7%B1%E5%BA%A6%E6%88%AA%E5%9B%BE_%E9%80%89%E6%8B%A9%E5%8C%BA%E5%9F%9F_20211007141853.png" alt="example"></p>
</li>
<li>
<p>页内跳转，借助 html 语法，例如</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;span id=&quot;target&quot;&gt;需要跳转的位置&lt;/span&gt;</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line">[跳转按钮](#target)</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>示例</p>
<ul>
<li><code>&#123;% post_link blog/hexo-01-框架篇 站内跳转 %&#125;</code>：<a href="/2021/07/19/blog/hexo-01-kuang-jia-pian/" title="hexo | 博客框架搭建">站内跳转</a></li>
<li><code>[页内跳转](#music)</code>：<a href="#music">页内跳转</a></li>
</ul>
</li>
</ol>
<h1>SEO 优化</h1>
<p>推广是很麻烦的事情，怎么样别人才能知道我们呢，首先需要让搜索引擎收录你的这个网站，别人才能搜索的到。那么这就需要 SEO 优化了。</p>
<blockquote>
<p><strong>参考文章</strong><br>
CSDN：<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_43958049/article/details/99742737">搜索SEO+阅读量统计+访问量统计+评论系统</a><br>
LeTe乐特：<a target="_blank" rel="noopener" href="https://blog.csdn.net/Lott0419/article/details/113564110">Hexo 每天自动提交网站 url 到搜索引擎</a><br>
知乎：<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/100922816">Hexo 博客提交百度、谷歌搜索引擎收录</a></p>
</blockquote>
<h2 id="SEO">SEO</h2>
<p>SEO 是由英文 Search Engine Optimization 缩写而来，中文意译为“搜索引擎优化”。SEO 是指通过站内优化比如网站结构调整、网站内容建设、网站代码优化等以及站外优化。</p>
<h2 id="百度收录">百度收录</h2>
<h3 id="添加网站">添加网站</h3>
<ol>
<li>
<p>进入<a target="_blank" rel="noopener" href="https://ziyuan.baidu.com/">百度资源搜索平台</a>，登录百度账号</p>
</li>
<li>
<p>用户中心 -&gt; 站点管理 -&gt; 添加网站<br>
<img src="https://i.loli.net/2021/10/07/fpc1S6NjhbO2eaP.png" alt="20211007101907"></p>
</li>
<li>
<p>填写网站信息，选择验证方法<br>
<img src="https://cdn.jsdelivr.net/gh/zhihongecnu/PicBed/picgo/20211204172350.png" alt="20211204172350"></p>
</li>
<li>
<p>推荐用<span id="method1">方法一</span>，下载验证文件，放在博客<strong>主题目录</strong>的 <code>source</code> 文件夹下。</p>
</li>
<li>
<p>验证文件如果放博客主目录的 <code>source</code>，生成网站时会编译 <code>source</code> 中的文件，导致验证文件被修改，验证失败。解决方法是在 <code>_config.yml</code> 文件中，添加忽略编译的文件，比如：<br>
<img src="https://cdn.jsdelivr.net/gh/zhihongecnu/PicBed/picgo/%E6%B7%B1%E5%BA%A6%E6%88%AA%E5%9B%BE_%E9%80%89%E6%8B%A9%E5%8C%BA%E5%9F%9F_20211204172657.png" alt="深度截图_选择区域_20211204172657"></p>
</li>
</ol>
<h3 id="自动提交">自动提交</h3>
<p>百度提供了三种自动提交方法：主动推送、自动推送和 sitemap ，以下是官方给出的解释：</p>
<ul>
<li>主动推送：最为快速的提交方式，推荐您将站点当天新产出链接立即通过此方式推送给百度，以保证新链接可以及时被百度收录</li>
<li>自动推送：是轻量级链接提交组件，将自动推送的 JS 代码放置在站点每一个页面源代码中，当页面被访问时，页面链接会自动推送给百度，有利于新页面更快被百度发现</li>
<li>sitemap：您可以定期将网站链接放到sitemap中，然后将sitemap提交给百度。百度会周期性的抓取检查您提交的sitemap，对其中的链接进行处理，但收录速度慢于主动推送</li>
</ul>
<h4 id="自动推送">自动推送</h4>
<p>个人用 butterfly 主题，在 <code>themes/layout/include/head.pug</code> 的末尾，追加下边代码</p>
   <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">script().</span><br><span class="line">(function()&#123;</span><br><span class="line">      var bp = document.createElement(&#x27;script&#x27;);</span><br><span class="line">      var curProtocol = window.location.protocol.split(&#x27;:&#x27;)[0];</span><br><span class="line">      if (curProtocol === &#x27;https&#x27;) &#123;</span><br><span class="line">         bp.src = &#x27;https://zz.bdstatic.com/linksubmit/push.js&#x27;;</span><br><span class="line">      &#125;</span><br><span class="line">      else &#123;</span><br><span class="line">         bp.src = &#x27;http://push.zhanzhang.baidu.com/push.js&#x27;;</span><br><span class="line">      &#125;</span><br><span class="line">      var s = document.getElementsByTagName(&quot;script&quot;)[0];</span><br><span class="line">      s.parentNode.insertBefore(bp, s);</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>
<h4 id="主动推送">主动推送</h4>
<ol>
<li>
<p>安装插件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-baidu-url-submit --save</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>在根目录 <code>_config.yml</code> 文件里写入以下配置：</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">baidu_url_submit:</span></span><br><span class="line"><span class="attr">count:</span> <span class="number">20</span>               <span class="comment"># 提交最新的多少个链接</span></span><br><span class="line"><span class="attr">host:</span> <span class="string">www.wzhecnu.cn</span>    <span class="comment"># 在百度站长平台中添加的域名</span></span><br><span class="line"><span class="attr">token:</span> <span class="string">&lt;token&gt;</span>      <span class="comment"># 秘钥</span></span><br><span class="line"><span class="attr">path:</span> <span class="string">baidu_urls.txt</span>   <span class="comment"># 文本文档的地址， 新链接会保存在此文本文档里</span></span><br></pre></td></tr></table></figure>
<p>其中 <code>&lt;token&gt;</code> 在<a target="_blank" rel="noopener" href="https://ziyuan.baidu.com/linksubmit/index">普通收录</a>中可以找到。<br>
<img src="https://i.loli.net/2021/10/07/JHEUgdhzc9OesQx.png" alt="20211007114244"></p>
</li>
<li>
<p>在 <code>_config.yml</code> 文件中，加入新的 deployer</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Deployment</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/one-command-deployment</span></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">type:</span> <span class="string">&#x27;git&#x27;</span></span><br><span class="line">   <span class="attr">repo:</span> <span class="string">rex@101.34.118.228:/var/repo/hexo_static</span></span><br><span class="line">   <span class="attr">branch:</span> <span class="string">master</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">type:</span> <span class="string">baidu_url_submitter</span></span><br></pre></td></tr></table></figure>
<p>例如上边最后一行。</p>
</li>
<li>
<p>部署测试</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</span><br></pre></td></tr></table></figure>
<p>出现下边内容即推送成功<br>
<img src="https://i.loli.net/2021/10/07/PJIi4AOu71Mekyv.png" alt="20211007113844"></p>
</li>
</ol>
<h3 id="sitemap">sitemap</h3>
<ol>
<li>
<p>安装插件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-sitemap --save     </span><br><span class="line">npm install hexo-generator-baidu-sitemap --save</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>用 <code>hexo g &amp;&amp; hexo d</code> 生成和部署，此时 <code>public/</code> 目录下回出现 <code>baidusitemap.xml</code> 文件</p>
</li>
<li>
<p>回到<a target="_blank" rel="noopener" href="https://ziyuan.baidu.com/linksubmit/index">百度资源平台</a>，添加 sitemap 文件<br>
<img src="https://i.loli.net/2021/10/07/zJMqthWGademCxY.png" alt="20211007115241"></p>
</li>
</ol>
<h2 id="谷歌收录">谷歌收录</h2>
<ol>
<li>
<p>登录<a target="_blank" rel="noopener" href="https://search.google.com/search-console">谷歌搜索控制台</a>，添加网站<br>
<img src="https://i.loli.net/2021/10/07/6yIU7Dc541NlBqb.png" alt="20211007120125"></p>
</li>
<li>
<p>选择 html 文件验证，后续操作同“百度收录”部分的<a href="#method1">方法一</a><br>
<img src="https://i.loli.net/2021/10/07/wvtA6i4M9KlkFhG.png" alt="20211007120325"></p>
</li>
<li>
<p>点击左侧站点地图，添加文件<br>
<img src="https://i.loli.net/2021/10/07/qaI7PLrYvWylXf4.png" alt="20211007120734"></p>
</li>
<li>
<p>成功提交显示如下<br>
<img src="https://i.loli.net/2021/10/07/BV9Ch3dG64bUrfQ.png" alt="20211007120835"></p>
</li>
</ol>
<h2 id="必应收录">必应收录</h2>
<ol>
<li>
<p>点击进入<a target="_blank" rel="noopener" href="https://www.bing.com/webmasters/home">必应搜索控制台</a></p>
</li>
<li>
<p>网站验证和前边相同</p>
</li>
<li>
<p>添加站点地图<br>
<img src="https://i.loli.net/2021/10/07/qmfnHZxouYXbUw9.png" alt="20211007121323"></p>
</li>
</ol>
<h1>其他</h1>
<h2 id="评论系统">评论系统</h2>
<p>之前一直用 Valine，设置简单但免费内存小且管理不方便。最近发现不少博客用 Twikoo，风格还不错，就改用它了。</p>
<p>Twikoo 是一个简洁、安全、无后端的静态网站评论系统，基于<a target="_blank" rel="noopener" href="https://curl.qcloud.com/KnnJtUom">腾讯云开发</a>。</p>
<blockquote>
<p><strong>参考阅读</strong><br>
zhheo：<a target="_blank" rel="noopener" href="https://blog.zhheo.com/p/2e6bbbd0.html">Twikoo 评论系统配置教程</a><br>
Twikoo 官方：<a target="_blank" rel="noopener" href="https://twikoo.js.org/">https://twikoo.js.org/</a><br>
butterfly 官方：<a target="_blank" rel="noopener" href="https://butterfly.js.org/posts/ceeb73f/#%E8%A9%95%E8%AB%96">Butterfly 安装文档(四) 主题配置-2</a></p>
</blockquote>
<h3 id="服务器设置">服务器设置</h3>
<p>作者的实机演示：<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1MZ4y1G7VB">Twikoo 快速上手视频教程</a></p>
<ol>
<li>
<p>进入<a target="_blank" rel="noopener" href="https://curl.qcloud.com/KnnJtUom">云开发 CloudBase </a>活动页面，选择合适的套餐。<br>
现在免费版下架了，我买的是包年套餐。</p>
</li>
<li>
<p>进入<a target="_blank" rel="noopener" href="https://console.cloud.tencent.com/tcb/env/login">环境-登录授权</a>，启用“匿名登录”</p>
</li>
<li>
<p>进入<a target="_blank" rel="noopener" href="https://console.cloud.tencent.com/tcb/env/safety">环境-安全配置</a>，将网站域名添加到“WEB安全域名”</p>
</li>
<li>
<p>进入环境-云函数，点击“新建云函数”</p>
<ul>
<li>函数名称填写：twikoo</li>
<li>创建方式选择：空白函数</li>
<li>运行环境请选择：Nodejs 10.15</li>
<li>函数内存请选择：128MB</li>
<li>点击“下一步”</li>
</ul>
</li>
<li>
<p>清空输入框中的示例代码，复制以下代码、粘贴到“函数代码”输入框中，点击“确定”</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">exports</span>.<span class="property">main</span> = <span class="built_in">require</span>(<span class="string">&#x27;twikoo-func&#x27;</span>).<span class="property">main</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>创建完成后，点击“twikoo&quot;进入云函数详情页，进入“函数代码”标签，点击“文件 - 新建文件”，输入 package.json，回车</p>
</li>
<li>
<p>复制以下代码、粘贴到代码框中，点击“保存并安装依赖”</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123; <span class="string">&quot;dependencies&quot;</span>: &#123; <span class="string">&quot;twikoo-func&quot;</span>: <span class="string">&quot;1.4.9&quot;</span> &#125; &#125;</span><br></pre></td></tr></table></figure>
<p>安装成功显示如下<br>
<img src="https://cdn.jsdelivr.net/gh/RexWzh/PicBed@picgo/picgo_folder/%E6%B7%B1%E5%BA%A6%E6%88%AA%E5%9B%BE_%E9%80%89%E6%8B%A9%E5%8C%BA%E5%9F%9F_20211007163730.png" alt="success"></p>
</li>
</ol>
<h3 id="本地设置">本地设置</h3>
<ol>
<li>
<p>修改主题配置文件</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">twikoo:</span></span><br><span class="line"><span class="attr">envId:</span></span><br><span class="line"><span class="attr">region:</span></span><br><span class="line"><span class="attr">visitor:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">option:</span></span><br></pre></td></tr></table></figure>
<p>其中 <code>envId</code> 在<a target="_blank" rel="noopener" href="https://console.cloud.tencent.com/tcb/">云开发控制台</a>中查看<br>
<img src="https://cdn.jsdelivr.net/gh/RexWzh/PicBed@picgo/picgo_folder/%E6%B7%B1%E5%BA%A6%E6%88%AA%E5%9B%BE_%E9%80%89%E6%8B%A9%E5%8C%BA%E5%9F%9F_20211007164218.png" alt="envId"></p>
</li>
<li>
<p>参数说明</p>
<ul>
<li><code>envId</code> ： 环境 ID</li>
<li><code>region</code> ： 环境地域，默认为 ap-shanghai，如果您的环境地域不是上海，需传此参数</li>
<li><code>visitor</code> ： 是否显示文章閲读数</li>
<li><code>option</code> ： 可选配置</li>
</ul>
</li>
<li>
<p>将默认评论系统设置为 Twikoo</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">comments:</span></span><br><span class="line"><span class="comment"># Up to two comments system, the first will be shown as default</span></span><br><span class="line"><span class="comment"># Choose: Disqus/Disqusjs/Livere/Gitalk/Valine/Waline/Utterances/Facebook Comments/Twikoo</span></span><br><span class="line"><span class="attr">use:</span></span><br><span class="line">   <span class="bullet">-</span> <span class="string">Twikoo</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="开启管理面板">开启管理面板</h3>
<ol>
<li>
<p>进入<a target="_blank" rel="noopener" href="https://console.cloud.tencent.com/tcb/env/login">环境-登录授权</a>，点击“自定义登录”右边的“私钥下载”，下载私钥文件</p>
</li>
<li>
<p>用文本编辑器打开私钥文件，复制全部内容</p>
</li>
<li>
<p>点击评论窗口的“小齿轮”图标，粘贴私钥文件内容，并设置管理员密码<br>
<img src="https://cdn.jsdelivr.net/gh/RexWzh/PicBed@picgo/picgo_folder/%E6%B7%B1%E5%BA%A6%E6%88%AA%E5%9B%BE_%E9%80%89%E6%8B%A9%E5%8C%BA%E5%9F%9F_20211007164535.png" alt="setting"></p>
</li>
</ol>
<h3 id="后续设置">后续设置</h3>
<p>修改头像，设置反垃圾，Katex 支持，邮件提醒等，参看 <a target="_blank" rel="noopener" href="https://twikoo.js.org/faq.html#%E5%A6%82%E4%BD%95%E4%BF%AE%E6%94%B9%E5%A4%B4%E5%83%8F">Twikoo 常见问题</a>。</p>
<hr>
<h2 id="页面效果">页面效果</h2>
<p>页面效果包括<em>背景特效</em>，<em>动态彩带</em>，<em>浮条线段</em>。</p>
<ol>
<li>
<p>在 _config.butterfly.yml 文件中检索 <code>Background effects</code></p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Background effects (背景特效)</span></span><br><span class="line"><span class="comment"># --------------------------------------</span></span><br></pre></td></tr></table></figure>
<p>将相应功能的 enable 参数改为 true</p>
</li>
<li>
<p>背景彩带</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># canvas_ribbon (靜止彩帶背景)</span></span><br><span class="line"><span class="comment"># See: https://github.com/hustcc/ribbon.js</span></span><br><span class="line"><span class="attr">canvas_ribbon:</span></span><br><span class="line"><span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">size:</span> <span class="number">150</span></span><br><span class="line"><span class="attr">alpha:</span> <span class="number">0.6</span></span><br><span class="line"><span class="attr">zIndex:</span> <span class="number">-1</span></span><br><span class="line"><span class="attr">click_to_change:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">mobile:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>空间动态彩带</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Fluttering Ribbon (動態彩帶)</span></span><br><span class="line"><span class="attr">canvas_fluttering_ribbon:</span></span><br><span class="line"><span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">mobile:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>背景浮动线条，鼠标互动</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># canvas_nest</span></span><br><span class="line"><span class="comment"># https://github.com/hustcc/canvas-nest.js</span></span><br><span class="line"><span class="attr">canvas_nest:</span></span><br><span class="line"><span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">color:</span> <span class="string">&#x27;0,0,255&#x27;</span> <span class="comment">#color of lines, default: &#x27;0,0,0&#x27;; RGB values: (R,G,B).(<span class="doctag">note:</span> use &#x27;,&#x27; to separate.)</span></span><br><span class="line"><span class="attr">opacity:</span> <span class="number">0.7</span> <span class="comment"># the opacity of line (0~1), default: 0.5.</span></span><br><span class="line"><span class="attr">zIndex:</span> <span class="number">-1</span> <span class="comment"># z-index property of the background, default: -1.</span></span><br><span class="line"><span class="attr">count:</span> <span class="number">99</span> <span class="comment"># the number of lines, default: 99.</span></span><br><span class="line"><span class="attr">mobile:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>点击特效等等，代码修改位置都在附近。</p>
<h2 id="span-id-music-音乐播放-span"><span id="music">音乐播放</span></h2>
<blockquote>
<p>参考博客<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_46435629/article/details/106295515">Butterfly主题开启Aplayer和“音乐”页面</a></p>
</blockquote>
<ol>
<li>
<p>创建音乐界面及安装插件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo new page music</span><br><span class="line">npm install aplayer</span><br><span class="line">npm install --save hexo-tag-aplayer</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>进入主题目录，查看 /layout/includes/layout.pug 文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> themes/butterfly/layout/includes</span><br><span class="line">code layout.pug</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>找到下边片段，并修改（添加后三行）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">head</span><br><span class="line">  include ./head.pug</span><br><span class="line">  link(rel=&quot;stylesheet&quot; href=&quot;APlayer.min.css&quot;)</span><br><span class="line">  div(id=&quot;aplayer&quot;)</span><br><span class="line">  script(src=&quot;https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js&quot; async)</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>新建 aplayer.pug ，粘贴下边代码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">touch aplayer.pug</span><br><span class="line"></span><br><span class="line">--- aplayer.pug 内容 ---</span><br><span class="line">link(rel=&quot;stylesheet&quot; type=&#x27;text/css&#x27;, href=&quot;https://cdn.jsdelivr.net/npm/aplayer@1.10/dist/APlayer.min.css&quot;)</span><br><span class="line">script(type=&#x27;text/javascript&#x27;, src=&quot;https://cdn.jsdelivr.net/npm/aplayer@1.10/dist/APlayer.min.js&quot;)</span><br><span class="line">script(type=&#x27;text/javascript&#x27;, src=&quot;https://cdn.jsdelivr.net/npm/meting@1.2/dist/Meting.min.js&quot;)</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>返回博客目录，在 _config.yml 最后添加以下代码</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># aplayer</span></span><br><span class="line"><span class="attr">aplayer:</span> </span><br><span class="line">  <span class="attr">script_dir:</span> <span class="string">js</span>                      <span class="comment"># Public 目录下脚本目录路径，默认: &#x27;assets/js&#x27;</span></span><br><span class="line">  <span class="attr">style_dir:</span> <span class="string">css</span>                         <span class="comment"># Public 目录下样式目录路径，默认: &#x27;assets/css&#x27;</span></span><br><span class="line">  <span class="comment">#cdn: http://xxx/aplayer.min.js                # 引用 APlayer.js 外部 CDN 地址 (默认不开启)</span></span><br><span class="line">  <span class="comment">#style_cdn: http://xxx/aplayer.min.css         # 引用 APlayer.css 外部 CDN 地址 (默认不开启)</span></span><br><span class="line">  <span class="attr">meting:</span> <span class="literal">true</span>                                  <span class="comment"># MetingJS 支持</span></span><br><span class="line">  <span class="comment">#meting_api: http://xxx/api.php                # 自定义 Meting API 地址</span></span><br><span class="line">  <span class="comment">#meting_cdn: http://xxx/Meing.min.js           # 引用 Meting.js 外部 CDN 地址 (默认不开启)</span></span><br><span class="line">  <span class="attr">asset_inject:</span> <span class="literal">true</span>                            <span class="comment"># 自动插入 Aplayer.js 与 Meting.js 资源脚本, 默认开启</span></span><br><span class="line">  <span class="comment">#externalLink: http://xxx/aplayer.min.js       # 老版本参数，功能与参数 cdn 相同meting: true</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>修改 _config.yml 参数如下</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">post_asset_folder:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>如下修改文件 \source\music\<a target="_blank" rel="noopener" href="http://index.md">index.md</a></p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">我的歌单</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2019-05-17 16:14:00</span></span><br><span class="line"><span class="attr">cover:</span> <span class="string">https://cdn.jsdelivr.net/gh/radium-bit/res@latest/Music.jpg</span></span><br><span class="line"><span class="attr">type:</span> <span class="string">&quot;music&quot;</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="string">&lt;font</span> <span class="string">color=#0c74d6</span> <span class="string">size=3</span> <span class="string">face=&quot;黑体&quot;&gt;**这是歌单介绍，如果不需要刻意留空**&lt;/font&gt;</span></span><br><span class="line"></span><br><span class="line">&#123;<span class="string">%</span> <span class="string">meting</span> <span class="string">&quot;431683638&quot;</span> <span class="string">&quot;netease&quot;</span> <span class="string">&quot;playlist&quot;</span> <span class="string">%</span>&#125;</span><br></pre></td></tr></table></figure>
<p>其中 “431683638” 为歌单 ID，netease 为网易云音乐。详细参数用法请参考<a target="_blank" rel="noopener" href="https://github.com/MoePlayer/hexo-tag-aplayer/blob/master/docs/README-zh_cn.md">官方文档</a>。</p>
</li>
</ol>
<hr>
<h1>写在最后</h1>
<h2 id="网站规划">网站规划</h2>
<p>网站初期有许多样式功能不急着实现，往后使用频率高了，再逐步更新。</p>
<p>模板修改涉及不少前后端知识， Javascript 等语言没有系统学习过，也和个人专业联系不大，后续有明确需要再学。</p>
<h2 id="悬浮音乐">悬浮音乐</h2>
<p>添加<a href="#music">音乐播放</a>功能后，只能在音乐界面听歌，切回主页音乐就暂停了。在知乎上找了找，这是因为 aplayer 不支持后台播放。</p>
<p>网上查阅了解到，后台播放功能可以用 pjax 实现。</p>
<p>参考博客：<a target="_blank" rel="noopener" href="https://plushine.cn/52527.html">不会pjax？这篇博客教你如何搞定背景音乐</a></p>
<p>看风格作者也是用 butterfly，而且主题的魔改效果还不错。</p>
<h2 id="其他">其他</h2>
<blockquote>
<p>参考文章：<a target="_blank" rel="noopener" href="https://plushine.cn/14261.html#HTTPS">你真的该学学如何配置CDN了</a></p>
</blockquote>
<p>关于 CDN，网站加速，GitHub pages 的百度收录，以及网站安全，值得一看。</p>
<!-- ### 说说
https://blog.csdn.net/cungudafa/article/details/105938885
https://blog.csdn.net/AGNING/article/details/105694257
https://artitalk.js.org/ -->
<h2 id="风格不错的博客">风格不错的博客</h2>
<p>放几篇风格不错，值得学习的博客。</p>
<ol>
<li>
<p><a target="_blank" rel="noopener" href="https://myhkw.cn/">音乐播放器</a>：水波还有左边菜单的钢琴特效有点意思。</p>
</li>
<li>
<p><a target="_blank" rel="noopener" href="https://ethant.top/">hexo+butterfly 主题美化</a>。</p>
</li>
<li>
<p>matery 主题：<a target="_blank" rel="noopener" href="https://www.yshawlon.cn/hexo-bo-ke-dai-ma-kuai-yang-shi-mei-hua.html">不会pjax？这篇博客教你如何搞定背景音乐</a></p>
</li>
</ol>
<h2 id="其他想法">其他想法</h2>
<p>功能：</p>
<ul>
<li>看板娘</li>
<li>留言板</li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Rex</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://www.wzhecnu.cn/2021/07/25/blog/hexo-03-fu-za-she-zhi/">http://www.wzhecnu.cn/2021/07/25/blog/hexo-03-fu-za-she-zhi/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">文章采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank">CC BY-NC-SA 4.0</a> 许可协议，转载请注明来自 <a href="http://www.wzhecnu.cn" target="_blank">学习空间</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/hexo/">hexo</a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/RexWzh/PicBed/images_for_blogs/c.jpeg" data-sites="weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button button--animated"><i class="fas fa-qrcode"></i> 请作者喝茶</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechat.jpg" target="_blank"><img class="post-qr-code-img" src="/img/wechat.jpg" alt="wechat"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="/img/alipay.jpg" target="_blank"><img class="post-qr-code-img" src="/img/alipay.jpg" alt="alipay"/></a><div class="post-qr-code-desc">alipay</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2021/08/06/blog/tu-chuang/"><img class="prev-cover" src="https://cdn.jsdelivr.net/gh/RexWzh/PicBed/images_for_blogs/pic10.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">PicGo 搭建图床</div></div></a></div><div class="next-post pull-right"><a href="/2021/07/22/blog/hexo-02-zhu-ti-mei-hua/"><img class="next-cover" src="https://cdn.jsdelivr.net/gh/RexWzh/PicBed/images_for_blogs/pic1.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">hexo | butterfly 主题设置一</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> 相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2021/07/22/blog/hexo-02-zhu-ti-mei-hua/" title="hexo | butterfly 主题设置一"><img class="cover" src="https://cdn.jsdelivr.net/gh/RexWzh/PicBed/images_for_blogs/pic1.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-07-22</div><div class="title">hexo | butterfly 主题设置一</div></div></a></div><div><a href="/2021/07/19/blog/hexo-01-kuang-jia-pian/" title="hexo | 博客框架搭建"><img class="cover" src="https://cdn.jsdelivr.net/gh/RexWzh/PicBed/images_for_blogs/v2-f0227c5b40848474645a2537e94baf94_r.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-07-19</div><div class="title">hexo | 博客框架搭建</div></div></a></div><div><a href="/2021/08/29/blog/hexo-05-multidevice/" title="hexo | 多设备管理博客"><img class="cover" src="https://cdn.jsdelivr.net/gh/RexWzh/PicBed@master/WallPapers/4.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-08-29</div><div class="title">hexo | 多设备管理博客</div></div></a></div><div><a href="/2021/09/16/blog/wang-ye-mo-ban-pug-ji-ben-yu-fa/" title="博客魔改 | 网页模板 pug 的基本语法"><img class="cover" src="https://cdn.jsdelivr.net/gh/zhihongecnu/WallPapers/02.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-09-16</div><div class="title">博客魔改 | 网页模板 pug 的基本语法</div></div></a></div><div><a href="/2021/09/10/server/04-server-deploy/" title="服务器教程(番外) | hexo 博客部署"><img class="cover" src="https://cdn.jsdelivr.net/gh/RexWzh/PicBed/images_for_blogs/pic15.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-09-10</div><div class="title">服务器教程(番外) | hexo 博客部署</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://cdn.jsdelivr.net/gh/RexWzh/PicBed/images_for_blogs/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Rex</div><div class="author-info__description">Math + Computer = ?</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">78</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">25</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">7</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/RexWzh"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/RexWzh" target="_blank" title="Github"><i class="iconfont icon-github"></i></a><a class="social-icon" href="https://space.bilibili.com/518870168" target="_blank" title="B站"><i class="iconfont icon--bilibili"></i></a><a class="social-icon" href="https://www.zhihu.com/people/wang-zhi-hong-79-21" target="_blank" title="知乎"><i class="iconfont icon-zhihu"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">新功能陆续上线，欢迎交流！干杯！！！</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">1.</span> <span class="toc-text">唠唠闲话</span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">2.</span> <span class="toc-text">文章相关</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E6%89%93%E7%A8%BF"><span class="toc-number">2.1.</span> <span class="toc-text">文章打稿</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E9%9A%90%E8%97%8F"><span class="toc-number">2.2.</span> <span class="toc-text">文章隐藏</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A%E4%BF%AE%E6%94%B9-pug-%E6%96%87%E4%BB%B6"><span class="toc-number">2.2.1.</span> <span class="toc-text">方法一：修改 pug 文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9A%E5%AE%89%E8%A3%85%E6%8F%92%E4%BB%B6"><span class="toc-number">2.2.2.</span> <span class="toc-text">方法二：安装插件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95"><span class="toc-number">2.2.3.</span> <span class="toc-text">踩坑记录</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E5%8A%A0%E5%AF%86"><span class="toc-number">2.3.</span> <span class="toc-text">文章加密</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E7%BD%AE%E9%A1%B6"><span class="toc-number">2.4.</span> <span class="toc-text">文章置顶</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E6%95%B0%E7%BB%9F%E8%AE%A1"><span class="toc-number">2.5.</span> <span class="toc-text">字数统计</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%98%85%E8%AF%BB%E7%BB%9F%E8%AE%A1"><span class="toc-number">2.6.</span> <span class="toc-text">阅读统计</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B5%E9%9D%A2%E8%B7%B3%E8%BD%AC"><span class="toc-number">2.7.</span> <span class="toc-text">页面跳转</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">3.</span> <span class="toc-text">SEO 优化</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#SEO"><span class="toc-number">3.1.</span> <span class="toc-text">SEO</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%99%BE%E5%BA%A6%E6%94%B6%E5%BD%95"><span class="toc-number">3.2.</span> <span class="toc-text">百度收录</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E7%BD%91%E7%AB%99"><span class="toc-number">3.2.1.</span> <span class="toc-text">添加网站</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%8A%A8%E6%8F%90%E4%BA%A4"><span class="toc-number">3.2.2.</span> <span class="toc-text">自动提交</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%8A%A8%E6%8E%A8%E9%80%81"><span class="toc-number">3.2.2.1.</span> <span class="toc-text">自动推送</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BB%E5%8A%A8%E6%8E%A8%E9%80%81"><span class="toc-number">3.2.2.2.</span> <span class="toc-text">主动推送</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sitemap"><span class="toc-number">3.2.3.</span> <span class="toc-text">sitemap</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B0%B7%E6%AD%8C%E6%94%B6%E5%BD%95"><span class="toc-number">3.3.</span> <span class="toc-text">谷歌收录</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BF%85%E5%BA%94%E6%94%B6%E5%BD%95"><span class="toc-number">3.4.</span> <span class="toc-text">必应收录</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">4.</span> <span class="toc-text">其他</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F"><span class="toc-number">4.1.</span> <span class="toc-text">评论系统</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%AE%BE%E7%BD%AE"><span class="toc-number">4.1.1.</span> <span class="toc-text">服务器设置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%AC%E5%9C%B0%E8%AE%BE%E7%BD%AE"><span class="toc-number">4.1.2.</span> <span class="toc-text">本地设置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%80%E5%90%AF%E7%AE%A1%E7%90%86%E9%9D%A2%E6%9D%BF"><span class="toc-number">4.1.3.</span> <span class="toc-text">开启管理面板</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%8E%E7%BB%AD%E8%AE%BE%E7%BD%AE"><span class="toc-number">4.1.4.</span> <span class="toc-text">后续设置</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B5%E9%9D%A2%E6%95%88%E6%9E%9C"><span class="toc-number">4.2.</span> <span class="toc-text">页面效果</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#span-id-music-%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE-span"><span class="toc-number">4.3.</span> <span class="toc-text">音乐播放</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">5.</span> <span class="toc-text">写在最后</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E7%AB%99%E8%A7%84%E5%88%92"><span class="toc-number">5.1.</span> <span class="toc-text">网站规划</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%82%AC%E6%B5%AE%E9%9F%B3%E4%B9%90"><span class="toc-number">5.2.</span> <span class="toc-text">悬浮音乐</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E4%BB%96"><span class="toc-number">5.3.</span> <span class="toc-text">其他</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A3%8E%E6%A0%BC%E4%B8%8D%E9%94%99%E7%9A%84%E5%8D%9A%E5%AE%A2"><span class="toc-number">5.4.</span> <span class="toc-text">风格不错的博客</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E6%83%B3%E6%B3%95"><span class="toc-number">5.5.</span> <span class="toc-text">其他想法</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By Rex</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a><br>
<a href="https://beian.miit.gov.cn/"  style="color:#f72b07" target="_blank">粤ICP备2021109780号</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>(()=>{
  const $countDom = document.getElementById('twikoo-count')
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'twikoo-8grfz18jfe3c2793',
      region: ''
    }, null))
  }

  const getCount = () => {
    twikoo.getCommentsCount({
      envId: 'twikoo-8grfz18jfe3c2793',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(function (res) {
      $countDom.innerText = res[0].count
    }).catch(function (err) {
      console.error(err);
    });
  }

  const loadTwikoo = (bool = false) => {
    if (typeof twikoo === 'object') {
      init()
      bool && $countDom && setTimeout(getCount,0)
    } else {
      getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(()=> {
        init()
        bool && $countDom && setTimeout(getCount,0)
      })
    }
  }

  if ('Twikoo' === 'Twikoo' || !false) {
    if (false) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo(true)
  } else {
    window.loadOtherComment = () => {
      loadTwikoo()
    }
  }
})()</script></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script><script defer="defer" id="fluttering_ribbon" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-nest.min.js"></script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-show-text.min.js" data-mobile="true" data-text="欢,迎,来,访,你,好,朋,友" data-fontsize="15px" data-random="false" async="async"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>